(function(){'use strict';const modalInstances=new Map();class Modal{constructor(element,options={}){if(typeof element==='string'){element=document.getElementById(element)}
    this.element=element;this.backdrop=null;this.isShown=!1;this.scrollbarWidth=this.getScrollbarWidth();this.originalPaddingRight=document.body.style.paddingRight||'';this.originalOverflow=document.body.style.overflow||'';this.options={backdrop:!0,keyboard:!0,...options};modalInstances.set(this.element,this);this.init()}
    init(){const closeButtons=this.element.querySelectorAll('[data-bs-dismiss="modal"]');closeButtons.forEach(button=>{button.addEventListener('click',()=>this.hide())});document.addEventListener('keydown',(e)=>{if(e.key==='Escape'&&this.isShown&&this.options.keyboard){this.hide()}})}
    getScrollbarWidth(){const scrollDiv=document.createElement('div');scrollDiv.style.width='100px';scrollDiv.style.height='100px';scrollDiv.style.overflow='scroll';scrollDiv.style.position='absolute';scrollDiv.style.top='-9999px';document.body.appendChild(scrollDiv);const scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;document.body.removeChild(scrollDiv);return scrollbarWidth}
    createBackdrop(){this.backdrop=document.createElement('div');this.backdrop.className='modal-backdrop fade';document.body.appendChild(this.backdrop);this.backdrop.offsetHeight;setTimeout(()=>this.backdrop.classList.add('show'),10);if(this.options.backdrop===!0){this.backdrop.addEventListener('click',()=>this.hide())}}
    handleModalClick(event){if(event.target===this.element&&this.options.backdrop===!0){this.hide()}}
    show(){if(this.isShown)return;this.isShown=!0;const hasScrollbar=document.body.clientWidth<window.innerWidth;if(hasScrollbar){document.body.style.paddingRight=`${this.scrollbarWidth}px`}
        document.body.style.overflow='hidden';this.createBackdrop();this.element.style.display='block';this.element.setAttribute('aria-hidden','false');this.modalClickHandler=(event)=>this.handleModalClick(event);this.element.addEventListener('click',this.modalClickHandler);this.element.offsetHeight;setTimeout(()=>{this.element.classList.add('show')},10);setTimeout(()=>{const focusableElements=this.element.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(focusableElements.length){focusableElements[0].focus()}},300);const shownEvent=new CustomEvent('shown.bs.modal',{bubbles:!0,cancelable:!0});this.element.dispatchEvent(shownEvent)}
    hide(){if(!this.isShown)return;this.isShown=!1;if(this.modalClickHandler){this.element.removeEventListener('click',this.modalClickHandler);this.modalClickHandler=null}
        this.element.classList.remove('show');setTimeout(()=>{this.element.style.display='none';this.element.setAttribute('aria-hidden','true');if(this.backdrop){this.backdrop.classList.remove('show');setTimeout(()=>{if(this.backdrop&&this.backdrop.parentNode){document.body.removeChild(this.backdrop)}
            this.backdrop=null},150)}
            document.body.style.paddingRight=this.originalPaddingRight;document.body.style.overflow=this.originalOverflow;const hiddenEvent=new CustomEvent('hidden.bs.modal',{bubbles:!0,cancelable:!0});this.element.dispatchEvent(hiddenEvent)},150)}
    toggle(){if(this.isShown){this.hide()}else{this.show()}}
    static getInstance(element){if(typeof element==='string'){element=document.getElementById(element)}
        return modalInstances.get(element)}
    static getOrCreateInstance(element,config={}){if(typeof element==='string'){element=document.getElementById(element)}
        if(modalInstances.has(element)){return modalInstances.get(element)}
        return new Modal(element,config)}}
    window.bootstrap={Modal:Modal};document.addEventListener('DOMContentLoaded',function(){if(!document.getElementById('light-modal-styles')){const styleEl=document.createElement('style');styleEl.id='light-modal-styles';styleEl.textContent=`
                .modal-backdrop {
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100vw;
                    height: 100vh;
                    background-color: rgba(0, 0, 0, 0.5);
                    z-index: 1040;
                    opacity: 0;
                    transition: opacity 0.15s linear;
                }
                .modal-backdrop.show {
                    opacity: 0.5;
                }
                .modal {
                    z-index: 1055;
                }
                .modal.show {
                    display: block !important;
                }
            `;document.head.appendChild(styleEl)}
        const triggers=document.querySelectorAll('[data-bs-toggle="modal"]');triggers.forEach(trigger=>{trigger.addEventListener('click',function(e){e.preventDefault();const target=this.getAttribute('data-bs-target')||this.getAttribute('href');const modalElement=document.querySelector(target);if(modalElement){const modal=Modal.getOrCreateInstance(modalElement);modal.show()}})})})})()